<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Gá»­i Äáº·ng Huyá»n Trang â¤ï¸</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
    margin:0;
    height:100vh;
    background:linear-gradient(135deg,#ff6a88,#ff99ac);
    display:flex;
    justify-content:center;
    align-items:center;
    overflow:hidden;
    font-family:'Segoe UI',sans-serif;
    color:white;
    text-align:center;
}

#start{
    font-size:1.4em;
    padding:20px 30px;
    border:2px solid #fff;
    border-radius:15px;
    cursor:pointer;
    animation:pulse 1.5s infinite;
}
@keyframes pulse{50%{transform:scale(1.05);}}

#content{display:none;padding:20px;z-index:2;}

h1{animation:glow 2s infinite alternate;}
@keyframes glow{to{text-shadow:0 0 25px #ff0033;}}

.images img{
    width:130px;height:130px;border-radius:15px;
    margin:8px;object-fit:cover;border:3px solid #fff;
}

/* Popup */
#popup{
    position:fixed;inset:0;
    background:rgba(0,0,0,.6);
    display:none;justify-content:center;align-items:center;
    z-index:10;
}
.popup-box{
    background:#fff;color:#ff3366;
    padding:25px;border-radius:20px;font-size:1.4em;
}

/* Tim bay */
.heart{position:fixed;bottom:-20px;animation:floatUp 6s linear infinite;}
@keyframes floatUp{to{transform:translateY(-110vh);opacity:0;}}

/* PhÃ¡o hoa */
.firework{
    position:fixed;width:6px;height:6px;
    background:white;border-radius:50%;
    animation:boom 1.2s ease-out forwards;
}
@keyframes boom{
    to{transform:translate(var(--x),var(--y));opacity:0;}
}

#qrcode{
    margin:15px auto;background:white;
    padding:10px;border-radius:12px;width:max-content;
}
</style>
</head>

<body>

<div id="start">ğŸ‘‰ Cháº¡m vÃ o Ä‘Ã¢y nÃ¨ pÃ© iu ğŸ’–</div>

<div id="content">
    <h1>ğŸ‰ ChÃºc má»«ng sinh nháº­t ğŸ‰<br>Äáº·ng Huyá»n Trang ğŸ’•</h1>

    <div class="images">
        <img src="https://iili.io/f84P5wF.md.png">
        <img src="https://iili.io/f84icb9.md.png">
    </div>

    <p>
        PÃ© iu cá»§a anh ğŸ¥°<br>
        ChÃºc em luÃ´n xinh Ä‘áº¹p vÃ  háº¡nh phÃºc âœ¨<br>
        Anh yÃªu em nhiá»u láº¯m ğŸ˜˜
    </p>

    <h3>â³ Sinh nháº­t Ä‘áº¿n sau:</h3>
    <div id="countdown"></div>

    <h2 id="preCountdown" style="display:none;font-size:2em;"></h2>
    <h2 id="endMessage" style="display:none;font-size:1.6em;">
        Anh chÃºc Trang sinh nháº­t tháº­t háº¡nh phÃºc â¤ï¸
    </h2>

    <h3>ğŸ’ QuÃ©t QR nÃ y nha pÃ© iu</h3>
    <div id="qrcode"></div>
</div>

<div id="popup">
    <div class="popup-box">ğŸ’Œ Anh yÃªu em Trang â¤ï¸</div>
</div>

<!-- ğŸµ HAPPY BIRTHDAY (KHÃ”NG Báº¢N QUYá»€N) -->
<audio id="music">
    <source src="https://cdn.pixabay.com/audio/2022/10/30/audio_0a6b7f0c7f.mp3" type="audio/mpeg">
</audio>

<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

<script>
const start=document.getElementById("start");
const content=document.getElementById("content");
const popup=document.getElementById("popup");
const music=document.getElementById("music");

const fromQR=new URLSearchParams(location.search).get("qr");

if(fromQR){start.style.display="none";content.style.display="block";launchEffect();}

start.onclick=()=>{
    start.style.display="none";
    content.style.display="block";
    launchEffect();
};

function launchEffect(){
    popup.style.display="flex";
    setTimeout(()=>popup.style.display="none",2500);

    setInterval(createHeart,300);
    setInterval(firework,800);

    const today=new Date();
    const isTestDay = (today.getDate()===14 && today.getMonth()===0);
    const isBirthday = (today.getDate()===15 && today.getMonth()===0);

    if(isTestDay || isBirthday){
        startBirthdayMusic();
    }
}

function startBirthdayMusic(){
    const pre=document.getElementById("preCountdown");
    const endMsg=document.getElementById("endMessage");

    let c=3;
    pre.style.display="block";
    pre.innerText=c;

    const t=setInterval(()=>{
        c--;
        if(c>0){
            pre.innerText=c;
        }else{
            clearInterval(t);
            pre.innerText="ğŸ‰ Happy Birthday Trang ğŸ‰";
            music.play();
            music.onended=()=>{
                pre.style.display="none";
                endMsg.style.display="block";
            };
        }
    },1000);
}

// Tim
function createHeart(){
    const h=document.createElement("div");
    h.className="heart";
    h.innerHTML="â¤ï¸";
    h.style.left=Math.random()*100+"vw";
    h.style.fontSize=Math.random()*20+15+"px";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),6000);
}

// PhÃ¡o hoa
function firework(){
    for(let i=0;i<20;i++){
        const f=document.createElement("div");
        f.className="firework";
        f.style.left=Math.random()*100+"vw";
        f.style.top=Math.random()*100+"vh";
        f.style.setProperty("--x",(Math.random()*200-100)+"px");
        f.style.setProperty("--y",(Math.random()*200-100)+"px");
        document.body.appendChild(f);
        setTimeout(()=>f.remove(),1200);
    }
}

// Countdown tá»›i 15/01
const now=new Date();
let birthday=new Date(now.getFullYear(),0,15);
if(birthday<now) birthday=new Date(now.getFullYear()+1,0,15);

setInterval(()=>{
    const d=birthday-new Date();
    document.getElementById("countdown").innerText=
        `${Math.floor(d/86400000)} ngÃ y ${Math.floor(d%86400000/3600000)} giá»`;
},1000);

// QR â†’ má»Ÿ vá»›i ?qr=1
new QRCode(document.getElementById("qrcode"),{
    text:location.origin+location.pathname+"?qr=1",
    width:180,height:180,colorDark:"#ff3366",colorLight:"#ffffff"
});
</script>

</body>
</html>
